<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Tr√≤ Ch∆°i H·ªçc S·ªë ƒê·ªìng H·ªì</title>
    <style>
        body {
            font-family: 'Comic Sans MS', cursive, sans-serif;
            background: linear-gradient(135deg, #ff9a9e 0%, #fecfef 50%, #fecfef 100%);
            margin: 0;
            padding: 20px;
            min-height: 100vh;
            display: flex;
            flex-direction: column;
            align-items: center;
            justify-content: center;
        }

        .game-container {
            background: white;
            border-radius: 20px;
            padding: 30px;
            box-shadow: 0 10px 30px rgba(0,0,0,0.2);
            text-align: center;
            max-width: 600px;
        }

        h1 {
            color: #ff6b6b;
            margin-bottom: 20px;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.1);
        }

        .clock-container {
            position: relative;
            width: 400px;
            height: 400px;
            margin: 20px auto;
            background: radial-gradient(circle, #fff 60%, #f0f0f0 100%);
            border-radius: 50%;
            border: 8px solid #333;
            box-shadow: 0 0 20px rgba(0,0,0,0.3);
        }

        .clock-face {
            position: relative;
            width: 100%;
            height: 100%;
            border-radius: 50%;
        }

        .number {
            position: absolute;
            font-size: 24px;
            font-weight: bold;
            width: 40px;
            height: 40px;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 50%;
            background: white;
            border: 2px solid #333;
            cursor: pointer;
            transition: all 0.3s ease;
            transform: translate(-50%, -50%);
        }

        .number:hover {
            transform: translate(-50%, -50%) scale(1.2);
            box-shadow: 0 4px 15px rgba(0,0,0,0.3);
        }

        .number.correct {
            background: #4ecdc4;
            animation: bounce 0.6s ease;
        }

        .number.wrong {
            background: #ff6b6b;
            animation: shake 0.6s ease;
        }

        .magnifying-hole {
            position: absolute;
            width: 120px;
            height: 120px;
            background: rgba(255,255,255,0.9);
            border: 4px solid #333;
            border-radius: 50%;
            top: 10%;
            left: 50%;
            transform: translateX(-50%);
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 36px;
            font-weight: bold;
            color: #333;
            box-shadow: inset 0 0 20px rgba(0,0,0,0.2);
        }

        .center-dot {
            position: absolute;
            width: 12px;
            height: 12px;
            background: #333;
            border-radius: 50%;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
        }

        .illustration {
            position: absolute;
            font-size: 12px;
            pointer-events: none;
        }

        .apple {
            color: #ff4757;
        }

        .star {
            color: #ffa502;
        }

        .game-info {
            margin: 20px 0;
            font-size: 18px;
        }

        .score {
            background: #4ecdc4;
            color: white;
            padding: 10px 20px;
            border-radius: 15px;
            display: inline-block;
            margin: 0 10px;
        }

        .target-number {
            background: #ff6b6b;
            color: white;
            padding: 15px 25px;
            border-radius: 20px;
            font-size: 24px;
            font-weight: bold;
            margin: 20px;
            display: inline-block;
        }

        .reset-btn {
            background: #45b7d1;
            color: white;
            border: none;
            padding: 15px 30px;
            border-radius: 25px;
            font-size: 16px;
            font-weight: bold;
            cursor: pointer;
            margin: 20px;
            transition: all 0.3s ease;
        }

        .reset-btn:hover {
            background: #3498db;
            transform: scale(1.05);
        }

        @keyframes bounce {
            0%, 20%, 60%, 100% { transform: translate(-50%, -50%) scale(1); }
            40% { transform: translate(-50%, -50%) scale(1.3); }
            80% { transform: translate(-50%, -50%) scale(1.1); }
        }

        @keyframes shake {
            0%, 100% { transform: translate(-50%, -50%) translateX(0); }
            10%, 30%, 50%, 70%, 90% { transform: translate(-50%, -50%) translateX(-5px); }
            20%, 40%, 60%, 80% { transform: translate(-50%, -50%) translateX(5px); }
        }

        .instruction {
            background: #fff3cd;
            border: 2px solid #ffeaa7;
            border-radius: 15px;
            padding: 15px;
            margin: 20px 0;
            color: #856404;
        }
    </style>
</head>
<body>
    <div class="game-container">
        <h1>üïê Tr√≤ Ch∆°i H·ªçc S·ªë ƒê·ªìng H·ªì üïê</h1>
        
        <div class="instruction">
            <strong>H∆∞·ªõng d·∫´n:</strong> Nh√¨n qua l·ªó k√≠nh l√∫p v√† t√¨m s·ªë ƒë∆∞·ª£c hi·ªÉn th·ªã tr√™n m·∫∑t ƒë·ªìng h·ªì!
        </div>

        <div class="game-info">
            <div class="score">ƒêi·ªÉm: <span id="score">0</span></div>
            <div class="score">ƒê√∫ng: <span id="correct">0</span>/10</div>
        </div>

        <div class="target-number">
            T√¨m s·ªë: <span id="target">12</span>
        </div>

        <div class="clock-container">
            <div class="clock-face" id="clockFace">
                <div class="magnifying-hole" id="magnifyingHole">
                    <span id="hiddenNumber">?</span>
                </div>
                <div class="center-dot"></div>
            </div>
        </div>

        <button class="reset-btn" onclick="resetGame()">üîÑ Ch∆°i l·∫°i</button>
    </div>

    <script>
        let score = 0;
        let correctAnswers = 0;
        let currentTarget = 1;
        let gameNumbers = [];

        const colors = [
            '#ff6b6b', '#4ecdc4', '#45b7d1', '#ffa726', 
            '#ab47bc', '#8d6e63', '#ec407a', '#78909c',
            '#9ccc65', '#26c6da', '#d4e157', '#ffb74d'
        ];

        function initGame() {
            createClockNumbers();
            nextQuestion();
        }

        function createClockNumbers() {
            const clockFace = document.getElementById('clockFace');
            
            // X√≥a c√°c s·ªë c≈© n·∫øu c√≥
            const existingNumbers = clockFace.querySelectorAll('.number');
            existingNumbers.forEach(num => num.remove());
            
            gameNumbers = [];

            for (let i = 1; i <= 12; i++) {
                const angle = (i * 30 - 90) * Math.PI / 180; // Chuy·ªÉn ƒë·ªïi ƒë·ªô sang radian
                const radius = 140; // Kho·∫£ng c√°ch t·ª´ t√¢m
                
                const x = Math.cos(angle) * radius + 200; // 200 l√† t√¢m container
                const y = Math.sin(angle) * radius + 200;
                
                const numberEl = document.createElement('div');
                numberEl.className = 'number';
                numberEl.textContent = i;
                numberEl.style.left = x + 'px';
                numberEl.style.top = y + 'px';
                numberEl.style.color = colors[(i - 1) % colors.length];
                numberEl.style.borderColor = colors[(i - 1) % colors.length];
                numberEl.onclick = () => checkAnswer(i);
                
                clockFace.appendChild(numberEl);
                gameNumbers.push(numberEl);

                // Th√™m minh h·ªça cho m·ªôt s·ªë s·ªë
                if (i === 3) {
                    // 3 qu·∫£ t√°o
                    for (let j = 0; j < 3; j++) {
                        const appleAngle = angle + (j - 1) * 0.3;
                        const appleRadius = radius + 25;
                        const appleX = Math.cos(appleAngle) * appleRadius + 200;
                        const appleY = Math.sin(appleAngle) * appleRadius + 200;
                        
                        const apple = document.createElement('div');
                        apple.className = 'illustration apple';
                        apple.innerHTML = 'üçé';
                        apple.style.left = appleX + 'px';
                        apple.style.top = appleY + 'px';
                        apple.style.transform = 'translate(-50%, -50%)';
                        clockFace.appendChild(apple);
                    }
                } else if (i === 7) {
                    // 7 ng√¥i sao
                    for (let j = 0; j < 7; j++) {
                        const starAngle = angle + (j - 3) * 0.2;
                        const starRadius = radius + 25;
                        const starX = Math.cos(starAngle) * starRadius + 200;
                        const starY = Math.sin(starAngle) * starRadius + 200;
                        
                        const star = document.createElement('div');
                        star.className = 'illustration star';
                        star.innerHTML = '‚≠ê';
                        star.style.left = starX + 'px';
                        star.style.top = starY + 'px';
                        star.style.transform = 'translate(-50%, -50%)';
                        clockFace.appendChild(star);
                    }
                }
            }
        }

        function nextQuestion() {
            // X√≥a c√°c class c≈©
            gameNumbers.forEach(num => {
                num.classList.remove('correct', 'wrong');
            });

            // Ch·ªçn s·ªë ng·∫´u nhi√™n t·ª´ 1-12
            currentTarget = Math.floor(Math.random() * 12) + 1;
            document.getElementById('target').textContent = currentTarget;
            document.getElementById('hiddenNumber').textContent = currentTarget;
        }

        function checkAnswer(selectedNumber) {
            const selectedElement = gameNumbers[selectedNumber - 1];
            
            if (selectedNumber === currentTarget) {
                selectedElement.classList.add('correct');
                score += 10;
                correctAnswers++;
                
                setTimeout(() => {
                    if (correctAnswers >= 10) {
                        alert(`üéâ Ch√∫c m·ª´ng! B·∫°n ƒë√£ ho√†n th√†nh tr√≤ ch∆°i v·ªõi ${score} ƒëi·ªÉm!`);
                        resetGame();
                    } else {
                        nextQuestion();
                    }
                }, 1000);
            } else {
                selectedElement.classList.add('wrong');
                score = Math.max(0, score - 5);
                
                setTimeout(() => {
                    selectedElement.classList.remove('wrong');
                }, 1000);
            }
            
            updateScore();
        }

        function updateScore() {
            document.getElementById('score').textContent = score;
            document.getElementById('correct').textContent = correctAnswers;
        }

        function resetGame() {
            score = 0;
            correctAnswers = 0;
            updateScore();
            initGame();
        }

        // Kh·ªüi t·∫°o game khi trang load
        window.onload = initGame;
    </script>
</body>
</html>